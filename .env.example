# Global
TZ=Europe/Moscow
DEBUG=true

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=lapa_user
POSTGRES_PASSWORD=lapa_password
POSTGRES_DB=lapa

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# MongoDB
MONGO_HOST=mongo
MONGO_PORT=27017
MONGO_DB=lapa
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=example
MONGO_USER=lapa_user
MONGO_PASSWORD=lapa_password

# JWT / Auth (must match across gateway & services)
JWT_SECRET_KEY=dev-secret
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Service URLs (Docker network names)
USER_SERVICE_URL=http://user-service:8000
PET_SERVICE_URL=http://pet-service:8000
ORDER_SERVICE_URL=http://order-service:8000
LOCATION_SERVICE_URL=http://location-service:8000
PAYMENT_SERVICE_URL=http://payment-service:8000
CHAT_SERVICE_URL=http://chat-service:8000
MEDIA_SERVICE_URL=http://media-service:8000
NOTIFICATION_SERVICE_URL=http://notification-service:8000
ANALYTICS_SERVICE_URL=http://analytics-service:8000

# API Gateway
HOST=0.0.0.0
PORT=8080
ENABLE_AUTH=true
ENABLE_CORS=true
ENABLE_SECURITY_HEADERS=true

# Frontend
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080
NEXT_PUBLIC_MEDIA_BASE_URL=http://localhost:8007

# Media Service
STORAGE_BACKEND=local
UPLOAD_PATH=/data/media_uploads
TEMP_PATH=/tmp/media_temp
MAX_IMAGE_SIZE_MB=20
MAX_VIDEO_SIZE_MB=100
MAX_FILE_SIZE_MB=50
ENABLE_IMAGE_PROCESSING=true
ENABLE_VIDEO_PROCESSING=true
ENABLE_THUMBNAILS=true

# Optional S3
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=
S3_PUBLIC_READ=true

# Optional Cloudinary
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Payment Service
ENCRYPTION_KEY=dev-encryption-key
WEBHOOK_SECRET=dev-webhook-secret
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
YOOKASSA_SHOP_ID=
YOOKASSA_SECRET_KEY=
TINKOFF_TERMINAL_KEY=
TINKOFF_TERMINAL_PASSWORD=
SBP_ENABLED=false
SBP_MERCHANT_ID=
DEFAULT_CURRENCY=RUB

# Email/SMS (user/notification)
SMTP_SERVER=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@lapa-kolomna.ru
SMS_API_KEY=
SMS_API_URL=https://sms.ru/sms/send

# Walker settings (user-service)
MAX_NEARBY_WALKERS=20
WALKER_SEARCH_RADIUS=5000

# Order settings
MAX_ORDERS_PER_DAY=20
ORDER_CONFIRMATION_TIMEOUT=300
ORDER_CANCELLATION_TIMEOUT=3600
PLATFORM_COMMISSION=0.1
WALKER_HOURLY_RATE_MIN=200
WALKER_HOURLY_RATE_MAX=800

# Monitoring / Misc
MONITORING_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Frontend build mirror to avoid DockerHub rate limits
NODE_REGISTRY=mirror.gcr.io/library/node
NODE_VERSION=20-alpine
